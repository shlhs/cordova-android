<div class="mui-page" ng-controller="TaskDevicesHandlerCtrl" id="xunjianTaskDevices">
    <header class="mui-bar bg-header">
        <a class="mui-icon" onclick="history.back()" style="font-size: 16px;margin-top: 6px;margin-left: 6px;">{{ 'cancel' | translate }}</a>
        <h1 class="mui-title">{{'devices' | translate}}</h1>
    </header>
    <div class="body-content bg-white" ng-cloak style="top: 60px;">
        <div class="site-search-comp">
            <div class="search-wrapper" style="margin-top: 6px;">
                <i class="iconfont anticon-search"></i>
                <input placeholder="{{'search' | translate}}" ng-model="searchDevice">
            </div>
        </div>

        <ul class="no-border static-device-list" style="margin-top: 0;" ng-style="{'padding-bottom': canHandle ? '48px' : '10px'}">
            <li class="box-horizontal box-vertical-middle mui-navigate-right" ng-repeat="record in device_record | filter: deviceFilter" ng-click="openDeviceCheckPage(record)">
                <div class="device-body box-horizontal box-vertical-middle">
                    <div class="mui-checkbox mui-left checkbox-square" ng-if="canHandle">
                        <a class="checkbox" ng-class="{checked: record.checked}" ng-click="checkDevice($event, record.device_sn)"></a>
                    </div>
                    <i class="icon icon-20 icon-static-device" style="margin-right: 8px;"></i>
                    <div style="width: 100%; padding-right: 70px;">
                        <div class="box-horizontal">
                            <label>{{record.device_name}}</label>
                            <label class="status normal" ng-if="record.status === '1'">{{ 'inspect.result.normal' | translate }}</label>
                            <label class="status danger" ng-if="record.status === '2'">{{ 'inspect.result.abnormal' | translate }}</label>
                            <label class="status undo" ng-if="!record.status">{{ 'inspect.result.uncheck' | translate }}</label>
                        </div>
                        <h5 style="margin: 6px 0 0 0;font-size: 12px;" class="ng-binding mui-ellipsis">{{record.device_path}}
                        </h5>
                    </div>
                </div>
            </li>
        </ul>

    </div>
    <div class="mui-bar mui-bar-tab inspect-device-tab" style="z-index: 0;" ng-if="canHandle">
        <a class="mui-tab-item1 mui-active mui-checkbox checkbox-square" style="padding-left: 10px;text-align: left;padding-top: 6px;" href="javascript:void(0)">
            <label class="checkbox text-link" ng-class="{checked: checkAll}" ng-click="toggleCheckAll()"><span style="margin-left: 8px;">{{ 'selectall' | translate }}</span></label>
        </a>
        <a class="mui-tab-item1 mui-active" href="javascript:void(0)" style="padding-right: 10px;" ng-click="setStatusOk()">
            <button type="button" class="mui-btn mui-btn-primary mui-btn-block mui-btn-outlined task-btn" style="margin-bottom: 10px;">{{ 'inspect.result.device.normal' | translate }}</button>
        </a>
        <a class="mui-tab-item1 mui-active mui-segmented-control-vertical" href="javascript:void(0)" style="padding-right: 10px;">
            <button type="button" class="mui-btn mui-btn-danger mui-btn-block mui-btn-outlined task-btn"
                    style="border-color: #E54A59;background-color: #E54A59;margin-bottom: 10px"
                    ng-click="openDtsPage()">{{ 'task.defect.create' | translate }}</button>
        </a>
    </div>
    <div ui-view=""></div>
</div>