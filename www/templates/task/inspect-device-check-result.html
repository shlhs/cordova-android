<div>
    <div style="padding: 12px 0 4px 12px; font-size: 14px;">
        <strong>检查项：检查项{{total}}个，异常项{{exception}}个</strong>
        <a style="margin-left: 16px;" ng-click="onExpandItems()">
            <span ng-if="!expandItems">显示检查项<i class="navigate-down" /></span>
            <span ng-if="expandItems">隐藏检查项<i class="navigate-up" /></span>
        </a>
    </div>
    <div ng-repeat="item in checkItems" class="check-item" ng-show="expandItems">
        <div>
            <label class="title">检查项{{$index+1}}：</label>{{item.name}}
        </div>
        <div><label class="title">正常结果：</label>{{item.reference_relation}} {{item.reference_value}}</div>
        <div ng-if="item.desp"><label class="title">检查方法：</label>{{item.desp}}</div>
        <div>
            <label class="title">检查结果：</label>
            <label ng-if="!canEdit && item.pass === 1" class="text-normal">正常</label>
            <label ng-if="!canEdit && item.pass === 2" class="text-danger">异常</label>
            <label style="float: right" ng-if="canEdit">
                <button class="item-pass" ng-class="{normal: item.pass !== 2}" ng-click="setItemPass(item, 1)">正常</button>
                <button class="item-pass" ng-class="{normal: item.pass === 2}" ng-click="setItemPass(item, 2)">异常</button>
            </label>
        </div>
        <div ng-if="item.pass !== 2">
            <label class="title">结果描述：</label><input placeholder="请输入结果数值" ng-model="item.result_desp" ng-if="canEdit"><label ng-if="!canEdit">{{item.result_desp}}</label>
        </div>
        <div ng-if="item.pass === 2">
            <label class="title">异常描述：</label><input placeholder="请输入异常描述" ng-model="item.result_desp" ng-if="canEdit"><label ng-if="!canEdit">{{item.result_desp}}</label>
        </div>
        <div>
            <image-uploader images="item.images" row-count="6" style="margin-left: -16px;padding-bottom: 0;width: calc(100% + 32px);" ng-if="canEdit && item.pass === 2"></image-uploader>
            <image-grid-list images="item.images" ng-if="!canEdit"></image-grid-list>
        </div>
    </div>
</div>
<div style="padding: 8px 0 4px 12px; font-size: 14px;border-top: 10px solid #fff;">
    <strong>设备巡检结果</strong>
    <span ng-if="!canEdit">：
        <span class="text-normal" ng-if="result.status === '1'">正常</span>
        <span class="text-danger" ng-if="result.status === '2'">异常</span>
    </span>
</div>
<div class="card" style="padding-top: 0;">
    <div class="card-content">
        <div class="device-check-pass-result" ng-if="canEdit">
            <div ng-class="{'checked': result.status !== '2'}" ng-click="setDevicePass('1')">
                <i class="radio"></i><label>正常</label>
            </div>
            <div ng-class="{'checked': result.status === '2'}" ng-click="setDevicePass('2')">
                <i class="radio"></i><label>异常</label>
            </div>
        </div>
        <div ng-if="result.status === '2'">
            <div style="color: #333;font-size: 13px;margin: 10px 0 4px 0;">异常情况描述
                <span style="color: red;margin-left: 2px;font-weight: 600;" ng-if="canEdit">*</span>
                <div style="font-size: 13px;float: right" ng-click="setEnableDtsSubmit()" ng-if="canEdit">
                    <label class="mui-checkbox mui-left checkbox-square">
                        <a class="checkbox" ng-class="{checked: enableSubmitDts}" style="font-size: 13px;"></a>
                    </label>
                    <label>自动将异常提交为缺陷单</label>
                </div>
            </div>
            <textarea rows="4" placeholder="{{canEdit ? '请输入设备异常情况描述' : ''}}" name="name" ng-model="result.desp" ng-disabled="!canEdit" required
                      style="background-color: #F4F5F6; border: none;border-radius: 4px;font-size: 12px;padding: 8px;margin: 0;"></textarea>
            <label class="error" style="font-size: 12px;color: #ff0000;" ng-if="!result.desp">
                请输入异常描述
            </label>
            <div style="color: #333;font-size: 13px;font-weight: 600;margin: 6px 0 4px 0;">设备图片</div>
            <image-uploader images="result.images" ng-if="canEdit" style="margin-left: -16px;width: calc(100% + 32px)"></image-uploader>
        </div>
        <image-grid-list images="result.images" ng-if="!canEdit && result.images.length"></image-grid-list>
    </div>
</div>