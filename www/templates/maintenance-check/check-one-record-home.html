
<div ng-controller="MaintenanceCheckRecordItemCtrl" class="page page-left" id="powerOffHandler">
    <style>

        .poweroff-info-list .mui-table-view-cell {
            padding: 8px 2px;
        }
    </style>
    <header class="mui-bar bg-header" style="z-index:1;">
        <a class="mui-icon mui-icon-left-nav mui-pull-left btn-back" ng-click="gotoPrevPage()"></a>
        <h1 class="mui-title">{{'ops.poweroff.report.name' | translate}}</h1>
        <a class="mui-action-menu mui-icon mui-pull-right" style="font-size: 16px;line-height: 28px;" ng-click="save()" ng-if="canEdit">{{'save' | translate}}</a>
    </header>
    <div class="body-content" ng-cloak>
        <div class="no-padding">
            <ul class="mui-table-view info-group mui-input-group poweroff-info-list" style="font-size: 14px;padding-left: 16px;">
                <li class="mui-table-view-cell">
                    <label class="title dark">{{'station' | translate}}：</label><span class="value">{{recordData.station_name}}</span>
                </li>
                <li class="mui-table-view-cell" ng-if="canEdit">
                    <label class="title dark">{{'ops.poweroff.capacity' | translate}}：</label>
                    <input class="font-14" type="text" placeholder="{{'please.input' | translate}}" ng-model="recordData.power_capacity" style="width: calc(100% - 98px);padding: 0px;height: 22px;">
                </li>
                <li class="mui-table-view-cell" ng-if="!canEdit">
                    <label class="title dark">{{'ops.poweroff.capacity' | translate}}：</label>
                    <span class="name">{{recordData.power_capacity}}</span>
                </li>
                <li class="mui-table-view-cell" ng-if="canEdit">
                    <label class="title dark">{{'supplyline' | translate}}：</label>
                    <input class="font-14" type="text" placeholder="{{'please.input' | translate}}" ng-model="recordData.power_circuit" style="width: calc(100% - 98px);padding: 0px;height: 22px;">
                </li>
                <li class="mui-table-view-cell" ng-if="!canEdit">
                    <label class="title dark">{{'supplyline' | translate}}：</label>
                    <span class="name">{{recordData.power_circuit}}</span>
                </li>
                <li class="mui-table-view-cell">
                    <label class="title dark" style="width: auto;">{{'ops.poweroff.time' | translate}}：</label><span class="name">{{recordData.create_time.substring(0, 10)}}</span>
                </li>
                <li class="mui-table-view-cell">
                    <label class="title dark">{{'ops.poweroff.handler' | translate}}：</label><span class="name">{{recordData.creator_name}}</span>
                </li>
            </ul>
            <div style="text-align: center;padding: 8px 16px">
                <button class="mui-btn mui-btn-primary" ng-click="gotoCheckListPage()">{{'view ops.security.items' | myTranslate}}</button>
            </div>
        </div>
        <div class="font-14 poweroff-list-item">
            <div class="info-group"><span class="title dark" style="float: none;min-width: 98px;width: auto;">{{'ops.poweroff.picture.before' | translate}}：</span>
                <div class="icon iconfont anticon-camera-b" style="position: absolute;" ng-if="canEdit">
                    <div class="image-uploader">
                        <input type="file" accept="image/*" name="upload" multiple="" style="width: 25px;overflow: hidden;padding-left: 25px;"
                               onchange="angular.element(this).scope().chooseImage('image_before_check', this)" ng-if="!useMobileGallery">
                        <input name="upload" ng-if="useMobileGallery" ng-click="setCurrentImageModel('image_before_check')" style="width: 25px;overflow: hidden;padding-left: 25px;background: none;border: none;">
                    </div>
                </div>
            </div>

            <ul class="image-list">
                <li class="image-item" ng-repeat="file in recordData.image_before_check"
                    ng-click="openGallery($index, recordData.image_before_check)">
                    <div class="content">
                        <a class="img-file" style="background-image: url({{file}})"></a>
                    </div>
                </li>
            </ul>
        </div>
        <div class="font-14 poweroff-list-item">
            <div class="info-group"><span class="title dark" style="float: none;min-width: 98px;width: auto;">{{'ops.poweroff.picture.between' | translate}}：</span>
                <div class="icon iconfont anticon-camera-b" style="position: absolute;" ng-if="canEdit">
                    <div class="image-uploader">
                        <input type="file" accept="image/*" name="upload" multiple=""
                               onchange="angular.element(this).scope().chooseImage('image_in_check', this)" ng-if="!useMobileGallery" style="width: 25px;overflow: hidden;padding-left: 25px;">
                        <input name="upload" ng-if="useMobileGallery" ng-click="setCurrentImageModel('image_in_check')" style="width: 25px;overflow: hidden;padding-left: 25px;background: none;border: none;">
                    </div>
                </div>
            </div>

            <ul class="image-list">
                <li class="image-item" ng-repeat="file in recordData.image_in_check"
                    ng-click="openGallery($index, recordData.image_in_check)">
                    <div class="content">
                        <a class="img-file" style="background-image: url({{file}})"></a>
                    </div>
                </li>
            </ul>
        </div>
        <div class="font-14 poweroff-list-item">
            <div class="info-group"><span class="title dark" style="float: none;min-width: 98px;width: auto;">{{'ops.poweroff.picture.after' | translate}}：</span>
                <div class="icon iconfont anticon-camera-b" style="position: absolute;" ng-if="canEdit">
                    <div class="image-uploader">
                        <input type="file" accept="image/*" name="upload" multiple="" style="width: 25px;overflow: hidden;padding-left: 25px;"
                               onchange="angular.element(this).scope().chooseImage('image_after_check', this)" ng-if="!useMobileGallery">
                        <input name="upload" ng-if="useMobileGallery" ng-click="setCurrentImageModel('image_after_check')" style="width: 25px;overflow: hidden;padding-left: 25px;background: none;border: none;">
                    </div>
                </div>
            </div>

            <ul class="image-list">
                <li class="image-item" ng-repeat="file in recordData.image_after_check"
                    ng-click="openGallery($index, recordData.image_after_check)">
                    <div class="content">
                        <a class="img-file" style="background-image: url({{file}})"></a>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</div>