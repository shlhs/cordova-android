<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录页</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta http-equiv="Access-Control-Allow-Origin" content="*">
    <link rel="stylesheet" href="../components/mui/css/icons-extra.css">
    <link rel="stylesheet" href="../css/setting.css">
    <script type="text/javascript" src="../components/libs/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="../components/angular/angular.min.js"></script>
    <script type="text/javascript" src="../components/angular-ui-router/release/angular-ui-router.min.js"></script>
    <script type="text/javascript" src="../components/angular-animate/angular-animate.js"></script>
    <script type="text/javascript" src="../components/angular-ui-router/release/stateEvents.min.js"></script>
    <script type="text/javascript" src="../js/app/utils.js"></script>
    <script type="text/javascript" src="../js/lib/jwt/jsrsasign-all-min.js"></script>
    <!--<script type="text/javascript" src="../js/lib/jwt/jwt-token.js"></script>-->
    <script type="text/javascript" src="../js/app/app.js"></script>
    <script type="text/javascript" src="../js/service/common-service.js"></script>
<style>
    html,body{
        font-family:SimHei,'Helvetica Neue',Arial,'Droid Sans',sans-serif;
        padding: 0;
        margin: 0;
        background-color: #fff;
        position: relative;
        height: 100%;
        width: 100%;
        overflow: hidden;
    }
    .main-icon {
        margin-top: 20%;
        width: 57%;
        margin-left: 21.5%;
    }
    .login-area {
        position: absolute;
        padding: 0px;
        overflow: hidden;
        left: 0;
        width: 100%;
        bottom: 0px;
        height: 41%;
    }
    .login-form {
        position: absolute;
        width: 100%;
        top: 50%;
        margin-top: -116px;
    }
    .form-item {
        box-sizing: border-box;
        margin: 10px 44px;
        position: relative;
        background-color: #fff;
    }
    .form-item label {
        color: rgb(1,1,1);
        font-size: 18px;
        position: absolute;
        left: 0;
        line-height: 38px;
        margin-left: 10px;
    }
    .form-item input {
        outline: none;
        border: none;
        padding-left: 84px;
        width: calc(100% - 115px);
        font-size: 16px;
        line-height: 22px;
        height: 36px;
    }
    .form-item .password-not-seen {
        width: 16px;
        height: 16px;
        display: inline-block;
        background: url("../img/login/password-not-seen.png") no-repeat 50%;
        background-size: 100% 100%;
        position: absolute;
        right: 6px;
        top: 50%;
        margin-top: -10px;
    }
    .form-item .password-can-seen {
        width: 20px;
        height: 20px;
        display: inline-block;
        background: url("../img/login/password-can-seen.png") no-repeat 50%;
        background-size: 100% 100%;
        position: absolute;
        right: 6px;
        top: 50%;
        margin-top: -10px;
    }
    input::-webkit-input-placeholder {
        /* placeholder颜色  */
        color: rgb(187,187,187);
    }
    input::-moz-placeholder {
        /* placeholder颜色  */
        color: rgb(187,187,187);
    }
    .login-btn {
        background-color: rgb(195,227,249);
        border-radius: 4px;
        margin: 20px 42px 0 42px;
        box-sizing: border-box;
        height: 42px;
        line-height: 42px;
        text-align: center;
        font-size: 18px;
        color: #fff;
    }
    .login-btn.enable {
        background-color: #108ee9;
    }
    .error{
        color: red;
        padding-left: 20px;
        margin-top: 10px;
    }
    @media screen and (max-height: 600px) {
        .main-icon {
            margin-top: 15%;
        }
        .login-area {
            margin-top: 10%;
        }
        .login-btn {
            margin-top: 30px;
            height: 40px;
            line-height: 40px;
        }
    }
</style>
<body class="box-vertical-center" ng-app="myApp" >
    <div style="height: 100%;overflow: hidden;position: fixed; left: 0; top: 0;width: 100%;">
        <img src="/img/login-bg.jpeg" style="height: 100%;" id="login_bg">
    </div>
    <div class="login-area" ng-controller="LoginCtrl">
        <div class="login-form">
            <div class="form-item" ng-if="platformCodeVisible">
                <label for="platform">平台</label>
                <input type="text" id="platform" placeholder="请输入平台编号" ng-model="platformCode" ng-change="inputChange('platformCode')"></div>
            <div class="form-item">
                <label for="username">用户名</label>
                <input type="text" id="username" ng-model="username" ng-change="inputChange('username')" placeholder="请输入账号">
            </div>
            <div class="form-item">
                <label for="password">密码</label>
                <input type="password" id="password" ng-model="password" ng-change="inputChange('password')" placeholder="请输入密码" ng-show="!passwordVisible">
                <i class="password-not-seen" ng-if="!passwordVisible" ng-click="togglePasswordVisible()"></i>
                <input type="text" ng-model="password" ng-change="inputChange('password')" placeholder="请输入密码" ng-show="passwordVisible">
                <i class="password-can-seen" ng-if="passwordVisible" ng-click="togglePasswordVisible()"></i>
            </div>
            <!--<div class="error">{{error}}</div>-->
            <div class="login-btn" ng-class="{'enable': enable}" ng-click="login()">
                <span ng-if="!isLogin">登录</span>
                <span ng-if="isLogin">正在登录...</span>
            </div>
        </div>
    </div>
    <script src="../components/fastclick-master/lib/fastclick.js"></script>
    <script src="../js/my/notify.js"></script>
    <script src="../components/dropload-gh-pages/dist/dropload.min.js"></script>
    <script src="../components/handlebars-v4.0.10.js"></script>
    <script type="text/javascript" src="../js/controller/login.js"></script>

    <script>
        $(function () {
            var screenHeight = window.screen.height;
            var screenWidth = window.screen.width;
            var $img = $("#login_bg");
            var imageHeight = parseInt($img.css('height'));
            var imageWidth = parseInt($img.css('width'));
            if (imageWidth/imageHeight > screenWidth/screenHeight) {
                // 如果图片比例更宽，那么以高度为准
                var width = -(imageWidth * (screenHeight / imageHeight) - screenWidth) / 2;
                $img.css({height: screenHeight+'px', 'margin-left': width + 'px'});
            } else {
                var height = -(imageHeight * (screenWidth / imageWidth) - screenHeight ) / 2;
                $img.css({width: screenWidth+'px', 'margin-top': height + 'px'});
            }
        });
    </script>
</body>
</html>