<div class="page page-left" style="background-color: #fff;">
    <div style="height: 100%;overflow: hidden;position: fixed; left: 0; top: 0;width: 100%;">
        <img src="img/login-bg.jpeg" style="height: 100%;" id="login_bg">
    </div>
    <div class="login-area" ng-controller="LoginCtrl">
        <div class="login-form">
            <div class="form-item">
                <label>平台</label>
                <input type="text" placeholder="请输入平台编号" ng-model="platformCode" ng-change="inputChange('platformCode')"></div>
            <div class="form-item">
                <label>用户名</label>
                <input type="text" ng-model="username" ng-change="inputChange('username')" placeholder="请输入账号">
            </div>
            <div class="form-item">
                <label>密码</label>
                <input type="password" id="password" ng-model="password" ng-change="inputChange('password')" placeholder="请输入密码" ng-show="!passwordVisible">
                <i class="password-not-seen" ng-if="!passwordVisible" ng-click="togglePasswordVisible()"></i>
                <input type="text" ng-model="password" ng-change="inputChange('password')" placeholder="请输入密码" ng-show="passwordVisible">
                <i class="password-can-seen" ng-if="passwordVisible" ng-click="togglePasswordVisible()"></i>
            </div>
            <!--<div class="error">{{error}}</div>-->
            <div class="login-btn" ng-class="{'enable': enable}" ng-click="login()">
                <span ng-if="!isLogin">登录</span>
                <span ng-if="isLogin">正在登录...</span>
            </div>
        </div>
    </div>
    <script>
        $(function () {
            var screenHeight = window.screen.height;
            var screenWidth = window.screen.width;
            var $img = $("#login_bg");
            var imageHeight = parseInt($img.css('height'));
            var imageWidth = parseInt($img.css('width'));
            if (imageWidth/imageHeight > screenWidth/screenHeight) {
                // 如果图片比例更宽，那么以高度为准
                var width = -(imageWidth * (screenHeight / imageHeight) - screenWidth) / 2;
                $img.css({height: screenHeight+'px', 'margin-left': width + 'px'});
            } else {
                var height = -(imageHeight * (screenWidth / imageWidth) - screenHeight ) / 2;
                $img.css({width: screenWidth+'px', 'margin-top': height + 'px'});
            }
        });
    </script>
</div>